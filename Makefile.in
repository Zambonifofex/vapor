# Vapor is a toolkit designed to support Liquid War 7.
# Copyright (C)  2015, 2016  Christian Mauduit <ufoot@ufoot.org>
#
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>.
#
# Vapor homepage: https://github.com/ufoot/vapor
# Contact author: ufoot@ufoot.org

srcdir = @srcdir@
prefix = @prefix@

VP_TOPBUILDDIR = @VP_TOPBUILDDIR@
VP_TOPSRCDIR = @VP_TOPSRCDIR@

.PHONY: all
.PHONY: vp
.PHONY: check
.PHONY: bench
.PHONY: lint
.PHONY: devel
.PHONY: doc
.PHONY: clean
.PHONY: distclean
.PHONY: get
.PHONY: dep
.PHONY: help
.PHONY: stamp
.PHONY: indent

all: configure.ac vp

check: dep stamp check-vp

bench: dep stamp bench-vp

lint: dep stamp lint-vp

devel: indent dep stamp devel-vp
	utils/plot.sh

doc: indent dep stamp doc-vp

clean:
	rm -rf bin/vp* pkg test/* doc/txt/*.txt doc/html/*.html doc/cover/*.html thrift/gen-* vpwire/*.png

distclean: clean
	rm -rf bin/* test doc/txt doc/html doc/coverage autom4te.cache config.log config.status Makefile Makefile.dep Makefile.help src/git.apache.org src/github.com src/golang.org utils/env.sh
	find . -name "*~" -exec rm -f "{}" \;

get:
	./utils/get.sh

dep:
	./utils/dep.sh

help:
	cat Makefile.help

stamp:
	./utils/stamp.sh

indent:
	./utils/indent.sh

include Makefile.dep

